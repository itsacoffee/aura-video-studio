{
  "Serilog": {
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft.AspNetCore": "Warning"
      }
    }
  },
  "AllowedHosts": "*",
  "Urls": "http://127.0.0.1:5005",
  "Caching": {
    "Enabled": true,
    "RedisConnection": "",
    "UseRedis": false,
    "DefaultExpirationSeconds": 300,
    "Strategies": {
      "ProviderResponsesSeconds": 300,
      "GeneratedScriptsSeconds": 3600,
      "AudioFilesSeconds": 86400,
      "ImagesSeconds": 604800,
      "UserSessionsSeconds": 1800,
      "QueryResultsSeconds": 60
    },
    "EnableCacheWarming": true,
    "EnableStampedeProtection": true
  },
  "HealthChecks": {
    "DiskSpaceThresholdGB": 1.0,
    "DiskSpaceCriticalGB": 0.5,
    "MemoryWarningThresholdMB": 1024.0,
    "MemoryCriticalThresholdMB": 2048.0,
    "DatabaseWarningThresholdMs": 500,
    "DatabaseCriticalThresholdMs": 2000,
    "Timeout": "00:00:10",
    "EnableDetailedLogging": false,
    "EnableAutoRecovery": true
  },
  "IpRateLimiting": {
    "EnableEndpointRateLimiting": true,
    "StackBlockedRequests": false,
    "HttpStatusCode": 429,
    "RealIpHeader": "X-Real-IP",
    "QuotaExceededResponse": {
      "Content": "{\"type\":\"https://docs.aura.studio/errors/E429\",\"title\":\"Rate Limit Exceeded\",\"status\":429,\"detail\":\"Too many requests. Limit is {0} req/{1}. Retry after {2} sec.\"}",
      "ContentType": "application/json"
    },
    "IpWhitelist": [],
    "EndpointWhitelist": [
      "get:/health/*",
      "get:/healthz",
      "get:/api/health/*"
    ],
    "GeneralRules": [
      {
        "Endpoint": "POST:/api/jobs",
        "Period": "1m",
        "Limit": 10
      },
      {
        "Endpoint": "POST:/api/videos/generate",
        "Period": "1m",
        "Limit": 10
      },
      {
        "Endpoint": "POST:/api/quick/demo",
        "Period": "1m",
        "Limit": 5
      },
      {
        "Endpoint": "POST:/api/script",
        "Period": "1m",
        "Limit": 20
      },
      {
        "Endpoint": "*",
        "Period": "1m",
        "Limit": 100
      }
    ]
  },
  "Engines": {
    "ManifestUrl": "",
    "InstallRoot": "%LOCALAPPDATA%/Aura/Tools",
    "DefaultPorts": {
      "stable-diffusion-webui": 7860,
      "comfyui": 8188,
      "piper": 0,
      "mimic3": 59125
    }
  },
  "FFmpeg": {
    "ExecutablePath": "",
    "ProbeExecutablePath": "",
    "SearchPaths": [
      "C:\\Program Files\\ffmpeg\\bin",
      "C:\\ffmpeg\\bin",
      "%LOCALAPPDATA%\\Microsoft\\WinGet\\Packages\\Gyan.FFmpeg*\\ffmpeg*\\bin",
      "/usr/bin",
      "/usr/local/bin",
      "/opt/homebrew/bin"
    ],
    "RequireMinimumVersion": "4.0.0"
  },
  "Performance": {
    "SlowRequestThresholdMs": 1000,
    "VerySlowRequestThresholdMs": 5000,
    "EnableDetailedTelemetry": true,
    "SampleRate": 1.0
  },
  "LlmTimeouts": {
    "ScriptGenerationTimeoutSeconds": 120,
    "ScriptRefinementTimeoutSeconds": 180,
    "VisualPromptTimeoutSeconds": 45,
    "NarrationOptimizationTimeoutSeconds": 30,
    "PacingAnalysisTimeoutSeconds": 60,
    "SceneImportanceTimeoutSeconds": 45,
    "ContentComplexityTimeoutSeconds": 45,
    "NarrativeArcTimeoutSeconds": 60,
    "WarningThresholdPercentage": 0.5
  },
  "PromptEngineering": {
    "EnableCustomization": true,
    "DefaultPromptVersion": "default-v1",
    "MaxCustomInstructionsLength": 5000,
    "EnableChainOfThought": true,
    "EnableQualityMetrics": true,
    "AvailableVersions": [
      {
        "Version": "default-v1",
        "Name": "Standard Quality",
        "Description": "Balanced approach optimized for most video types",
        "IsDefault": true
      },
      {
        "Version": "high-engagement-v1",
        "Name": "High Engagement",
        "Description": "Optimized for maximum viewer retention and engagement",
        "IsDefault": false
      },
      {
        "Version": "educational-deep-v1",
        "Name": "Educational Deep Dive",
        "Description": "Comprehensive educational content with detailed explanations",
        "IsDefault": false
      }
    ]
  },
  "CircuitBreaker": {
    "FailureThreshold": 5,
    "FailureRateThreshold": 0.5,
    "OpenDurationSeconds": 30,
    "TimeoutSeconds": 10,
    "HealthCheckTimeoutSeconds": 2,
    "RollingWindowSize": 100,
    "RollingWindowMinutes": 5
  },
  "LlmCache": {
    "Enabled": true,
    "MaxEntries": 1000,
    "DefaultTtlSeconds": 3600,
    "UseDiskStorage": false,
    "DiskStoragePath": "./cache/llm",
    "MaxDiskSizeMB": 100
  },
  "LlmPrewarm": {
    "Enabled": true,
    "MaxConcurrentPrewarms": 3,
    "PrewarmPrompts": [
      {
        "ProviderName": "OpenAI",
        "ModelName": "gpt-4",
        "OperationType": "PlanScaffold",
        "UserPrompt": "technology tutorial",
        "Temperature": 0.2,
        "MaxTokens": 1000,
        "TtlSeconds": 7200
      },
      {
        "ProviderName": "OpenAI",
        "ModelName": "gpt-4",
        "OperationType": "OutlineTransform",
        "UserPrompt": "product demonstration",
        "Temperature": 0.2,
        "MaxTokens": 1000,
        "TtlSeconds": 7200
      }
    ]
  },
  "Validation": {
    "MaxContentLengthBytes": 10485760,
    "MaxBriefLength": 10000,
    "MaxScriptLength": 50000,
    "AllowedFileExtensions": [
      ".mp4",
      ".mp3",
      ".wav",
      ".jpg",
      ".jpeg",
      ".png",
      ".json",
      ".srt",
      ".vtt",
      ".ass",
      ".ssa"
    ],
    "RateLimitPerMinute": 100,
    "RateLimitPerHour": 1000
  },
  "Authentication": {
    "EnableJwtAuthentication": false,
    "EnableApiKeyAuthentication": true,
    "JwtSecretKey": "",
    "JwtIssuer": "AuraVideoStudio",
    "JwtAudience": "AuraApi",
    "JwtExpirationMinutes": 60,
    "ApiKeyHeaderName": "X-API-Key",
    "RequireAuthentication": false,
    "AnonymousEndpoints": [
      "/health",
      "/healthz",
      "/api/health",
      "/swagger",
      "/api-docs"
    ]
  },
  "KeyVault": {
    "Enabled": false,
    "VaultUri": "",
    "TenantId": "",
    "ClientId": "",
    "ClientSecret": "",
    "UseManagedIdentity": true,
    "CacheExpirationMinutes": 60,
    "AutoReload": true,
    "SecretMappings": {
      "Providers:OpenAI:ApiKey": "OpenAI-ApiKey",
      "Providers:Anthropic:ApiKey": "Anthropic-ApiKey",
      "Providers:ElevenLabs:ApiKey": "ElevenLabs-ApiKey",
      "Providers:Stability:ApiKey": "Stability-ApiKey",
      "Authentication:JwtSecretKey": "JWT-Secret-Key"
    }
  },
  "Cors": {
    "AllowedOrigins": [
      "http://localhost:3000",
      "http://localhost:5005",
      "http://127.0.0.1:3000",
      "http://127.0.0.1:5005"
    ]
  },
  "Security": {
    "EnableCsrfProtection": false,
    "EnforceHttps": false,
    "EnableSecurityHeaders": true,
    "EnableAuditLogging": true
  },
  "Providers": {
    "OpenAI": {
      "ApiKey": "",
      "Model": "",
      "MaxTokens": 2000,
      "Temperature": 0.7,
      "BaseUrl": null,
      "OrganizationId": null,
      "ProjectId": null
    }
  },
  "Monitoring": {
    "EnableApplicationInsights": true,
    "ApplicationInsightsConnectionString": "",
    "ApplicationInsightsInstrumentationKey": "",
    "EnableCustomMetrics": true,
    "EnableBusinessMetrics": true,
    "EnableSliSloMonitoring": true,
    "SloEvaluationIntervalSeconds": 60,
    "EnableAlerting": true,
    "AlertEvaluationIntervalSeconds": 60,
    "MetricsExportIntervalSeconds": 60,
    "EnableSyntheticMonitoring": true,
    "SyntheticCheckIntervalSeconds": 300,
    "MetricRetentionDays": 90,
    "EnableAnomalyDetection": false,
    "AnomalyDetectionSensitivity": 0.7,
    "LogAnalyticsWorkspaceId": "",
    "LogAnalyticsSharedKey": "",
    "NotificationChannels": {
      "Slack": {
        "Enabled": false,
        "WebhookUrl": "",
        "Channel": "#aura-alerts",
        "MentionUsers": []
      },
      "PagerDuty": {
        "Enabled": false,
        "IntegrationKey": "",
        "ServiceKey": ""
      },
      "Email": {
        "Enabled": false,
        "SmtpServer": "",
        "SmtpPort": 587,
        "FromAddress": "",
        "ToAddresses": [],
        "Username": "",
        "Password": ""
      },
      "Webhook": {
        "Enabled": false,
        "Url": "",
        "Headers": {},
        "TimeoutSeconds": 30
      }
    }
  }
}
